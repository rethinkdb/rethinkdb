<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Class xsi_shared_memory</title>
<link rel="stylesheet" href="../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../../interprocess/indexes_reference.html#header.boost.interprocess.xsi_shared_memory_hpp" title="Header &lt;boost/interprocess/xsi_shared_memory.hpp&gt;">
<link rel="prev" href="xsi_key.html" title="Class xsi_key">
<link rel="next" href="../../intrusive.html" title="Chapter&#160;15.&#160;Boost.Intrusive">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="xsi_key.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../interprocess/indexes_reference.html#header.boost.interprocess.xsi_shared_memory_hpp"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="../../intrusive.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="boost.interprocess.xsi_shared_memory"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class xsi_shared_memory</span></h2>
<p>boost::interprocess::xsi_shared_memory</p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../../interprocess/indexes_reference.html#header.boost.interprocess.xsi_shared_memory_hpp" title="Header &lt;boost/interprocess/xsi_shared_memory.hpp&gt;">boost/interprocess/xsi_shared_memory.hpp</a>&gt;

</span>
<span class="keyword">class</span> <a class="link" href="xsi_shared_memory.html" title="Class xsi_shared_memory">xsi_shared_memory</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// <a class="link" href="xsi_shared_memory.html#boost.interprocess.xsi_shared_memoryconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a class="link" href="xsi_shared_memory.html#idp28782648-bb"><span class="identifier">xsi_shared_memory</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="xsi_shared_memory.html#idp28783352-bb"><span class="identifier">xsi_shared_memory</span></a><span class="special">(</span><a class="link" href="open_only_t.html" title="Struct open_only_t">open_only_t</a><span class="special">,</span> <span class="keyword">int</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="xsi_shared_memory.html#idp28784520-bb"><span class="identifier">xsi_shared_memory</span></a><span class="special">(</span><a class="link" href="open_only_t.html" title="Struct open_only_t">open_only_t</a><span class="special">,</span> <span class="keyword">const</span> <a class="link" href="xsi_key.html" title="Class xsi_key">xsi_key</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  xsi_shared_memory&amp; <a class="link" href="xsi_shared_memory.html#idp28786168-bb"><span class="keyword">operator</span><span class="special">=</span></a><span class="special">(</span><a class="link" href="xsi_shared_memory.html" title="Class xsi_shared_memory">xsi_shared_memory</a> <span class="special">&amp;&amp;</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="xsi_shared_memory.html#idp28787192-bb"><span class="special">~</span><span class="identifier">xsi_shared_memory</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="xsi_shared_memory.html#idp28779848-bb">public member functions</a></span>
  <span class="keyword">void</span> <a class="link" href="xsi_shared_memory.html#idp28780056-bb"><span class="identifier">swap</span></a><span class="special">(</span><a class="link" href="xsi_shared_memory.html" title="Class xsi_shared_memory">xsi_shared_memory</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">int</span> <a class="link" href="xsi_shared_memory.html#idp28781192-bb"><span class="identifier">get_shmid</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">mapping_handle_t</span> <a class="link" href="xsi_shared_memory.html#idp28781912-bb"><span class="identifier">get_mapping_handle</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="xsi_shared_memory.html#idp28787576-bb">public static functions</a></span>
  <span class="keyword">static</span> <span class="keyword">bool</span> <a class="link" href="xsi_shared_memory.html#idp28787784-bb"><span class="identifier">remove</span></a><span class="special">(</span><span class="keyword">int</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="xsi_shared_memory.html#boost.interprocess.xsi_shared_memorypublic-data-members">public data members</a></span>
   <a class="link" href="xsi_shared_memory.html#boost.interprocess.xsi_shared_memory.__pad0__"><span class="identifier">__pad0__</span></a><span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="idp119619176"></a><h2>Description</h2>
<p>A class that wraps XSI (System V) shared memory. Unlike <a class="link" href="shared_memory_object.html" title="Class shared_memory_object">shared_memory_object</a>, <a class="link" href="xsi_shared_memory.html" title="Class xsi_shared_memory">xsi_shared_memory</a> needs a valid <a class="link" href="xsi_key.html" title="Class xsi_key">xsi_key</a> to identify a shared memory object.</p>
<p>Warning: XSI shared memory and interprocess portable shared memory (<a class="link" href="shared_memory_object.html" title="Class shared_memory_object">boost::interprocess::shared_memory_object</a>) can't communicate between them. </p>
<div class="refsect2">
<a name="idp119621784"></a><h3>
<a name="boost.interprocess.xsi_shared_memoryconstruct-copy-destruct"></a><code class="computeroutput">xsi_shared_memory</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><a name="idp28782648-bb"></a><span class="identifier">xsi_shared_memory</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Default constructor. Represents an empty <code class="computeroutput"><a class="link" href="xsi_shared_memory.html" title="Class xsi_shared_memory">xsi_shared_memory</a></code>. </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="idp28783352-bb"></a><span class="identifier">xsi_shared_memory</span><span class="special">(</span><a class="link" href="open_only_t.html" title="Struct open_only_t">open_only_t</a><span class="special">,</span> <span class="keyword">int</span> shmid<span class="special">)</span><span class="special">;</span></pre>
<p>Initializes *this with a shmid previously obtained (possibly from another process) This lower-level initializer allows shared memory mapping without having a key. </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="idp28784520-bb"></a><span class="identifier">xsi_shared_memory</span><span class="special">(</span><a class="link" href="open_only_t.html" title="Struct open_only_t">open_only_t</a><span class="special">,</span> <span class="keyword">const</span> <a class="link" href="xsi_key.html" title="Class xsi_key">xsi_key</a> <span class="special">&amp;</span> key<span class="special">)</span><span class="special">;</span></pre>
<p>Creates a new XSI shared memory from 'key', with size "size" and permissions "perm". If the shared memory previously exists, throws an error. Opens an existing shared memory with identifier 'key' or creates a new XSI shared memory from identifier 'key', with size "size" and permissions "perm". Tries to open a XSI shared memory with identifier 'key' If the shared memory does not previously exist, it throws an error. </p>
</li>
<li class="listitem">
<pre class="literallayout">xsi_shared_memory&amp; <a name="idp28786168-bb"></a><span class="keyword">operator</span><span class="special">=</span><span class="special">(</span><a class="link" href="xsi_shared_memory.html" title="Class xsi_shared_memory">xsi_shared_memory</a> <span class="special">&amp;&amp;</span> moved<span class="special">)</span><span class="special">;</span></pre>
<p>Moves the ownership of "moved"'s shared memory to *this. After the call, "moved" does not represent any shared memory. Does not throw </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="idp28787192-bb"></a><span class="special">~</span><span class="identifier">xsi_shared_memory</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Destroys *this. The shared memory won't be destroyed, just this connection to it. Use remove() to destroy the shared memory. </p>
</li>
</ol></div>
</div>
<div class="refsect2">
<a name="idp119638264"></a><h3>
<a name="idp28779848-bb"></a><code class="computeroutput">xsi_shared_memory</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="idp28780056-bb"></a><span class="identifier">swap</span><span class="special">(</span><a class="link" href="xsi_shared_memory.html" title="Class xsi_shared_memory">xsi_shared_memory</a> <span class="special">&amp;</span> other<span class="special">)</span><span class="special">;</span></pre>Swaps two xsi_shared_memorys. Does not throw. </li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">int</span> <a name="idp28781192-bb"></a><span class="identifier">get_shmid</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Returns the shared memory ID that identifies the shared memory </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">mapping_handle_t</span> <a name="idp28781912-bb"></a><span class="identifier">get_mapping_handle</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Returns the mapping handle. Never throws </p>
</li>
</ol></div>
</div>
<div class="refsect2">
<a name="idp119647592"></a><h3>
<a name="idp28787576-bb"></a><code class="computeroutput">xsi_shared_memory</code> public static functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<pre class="literallayout"><span class="keyword">static</span> <span class="keyword">bool</span> <a name="idp28787784-bb"></a><span class="identifier">remove</span><span class="special">(</span><span class="keyword">int</span> shmid<span class="special">)</span><span class="special">;</span></pre>
<p>Erases the XSI shared memory object identified by shmid from the system. Returns false on error. Never throws </p>
</li></ol></div>
</div>
<div class="refsect2">
<a name="idp119651640"></a><h3>
<a name="boost.interprocess.xsi_shared_memorypublic-data-members"></a><code class="computeroutput">xsi_shared_memory</code> 
        public
       public data members</h3>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<pre class="literallayout"> <a name="boost.interprocess.xsi_shared_memory.__pad0__"></a><span class="identifier">__pad0__</span><span class="special">;</span></pre>
<p>Moves the ownership of "moved"'s shared memory object to *this. After the call, "moved" does not represent any shared memory object. Does not throw </p>
</li></ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2005-2012 Ion Gaztanaga<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="xsi_key.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../interprocess/indexes_reference.html#header.boost.interprocess.xsi_shared_memory_hpp"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="../../intrusive.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
