<script id="datacenter_view-container-template" type="text/x-handlebars-template">
    <div class="main_title"></div>

    <div class="two-panel-section profile-expandable">
        <div class="panel-left-unbalanced profile"></div>   
        <div class="panel-right-unbalanced performance">
            <h3 class="title">Performance</h3>
            <div class="performance-graph"></div>
        </div>
    </div>

    <ul class="nav nav-tabs">
        <li class="active"><a href="#datacenters/{{datacenter_id}}/stats" data-target="#datacenter-stats" id="datacenter-stats-link" class="tab-link" data-toggle="tab">Statistics</a></li>
        <li><a href="#datacenters/{{datacenter_id}}/data" data-target="#datacenter-data" id="datacenter-data-link" class="tab-link" data-toggle="tab">Data</a></li>
        <li><a href="#datacenters/{{datacenter_id}}/operations" data-target="#datacenter-operations" id="datacenter-operations-link" class="tab-link" data-toggle="tab">Operations</a></li>
        <li><a href="#datacenters/{{datacenter_id}}/logs" data-target="#datacenter-logs" id="datacenter-logs-link" class="tab-link" data-toggle="tab">Recent log entries</a></li>
    </ul>

    <div id="user-alert-space"></div>
    
    <div class="tab-content">  
        <div class="tab-pane active" id="datacenter-stats">
            <div class="section datacenter-stats"></div>
        </div>
        <div class="tab-pane" id="datacenter-data">
            <div class="section data"></div>
        </div>
        <div class="tab-pane" id="datacenter-operations">
            <div class="section operations"></div>
        </div>
        <div class="tab-pane" id="datacenter-logs">
            <div class="section recent-log-entries">
                <h3 class="title">Recent log entries for this datacenter</h3>
            </div>
        </div>
    </div>
</script>

<script id="datacenter_view-not_found-template" type="text/x-handlebars-template">
    <p>Datacenter {{id}} could not be found.</p>
</script>

<script id="datacenter_view_title-template" type="text/x-handlebars-template">
    <h1>Datacenter overview for {{name}}</h1>
</script>

<script id="datacenter_view_profile-template" type="text/x-handlebars-template">
    <h3 class="title">Datacenter profile</h3>
    <div class="section summary">
        <p class="status">Status: {{humanize_datacenter_reachability status}}</p>
        <p class="status">Servers: {{status.reachable}} of {{status.total}} reachable</p>
        {{#unless stats_up_to_date}}
        <p>The stats displayed might not be up to date<br />
        (One server might be overload with queries).</p>
        {{/unless}}
    </div>
    <h3 class="title">Servers</h3>
    <div class="section dc-machine-list">
        <ul>
        {{display_truncated_machines list_machines}}
        </ul>
    </div>
</script>

<script id="datacenter_view_data-template" type="text/x-handlebars-template">
    <h3 class="title">Data in this datacenter</h3>
    {{#unless data.namespaces}}
    <p>No data found in this datacenter.</p>
    {{/unless}}
    {{#each data.namespaces}}
    <div class="namespace">
      <h4>Shards for table <a href="/#tables/{{uuid}}">{{name}}</a>:</h4>
      <ul class="shard_ul">
        {{#each shards}}
        <li class="shard_li">
            <h4>{{name}}</h4>
            <p>{{#if keys}}About {{keys}} keys{{else}}Loading number of keys...{{/if}}, {{nprimaries}} {{pluralize_noun "primary" nprimaries}}, {{nsecondaries}} {{pluralize_noun "secondary" nsecondaries}}</p>
        </li>
        {{/each}}
      </ul>
    </div>
    {{/each}}
</script>

<script id="datacenter_view-recent_log_entry-template" type="text/x-handlebars-template">
    <div class="entry-metadata">
        <p class="from-machine">Reported from <a href="#servers/{{machine_uuid}}">{{machine_name}}</a></p>
        <p class="datetime"><abbr class="timeago" title="{{timeago_timestamp}}">{{timeago_timestamp}}</abbr></p>
    </div>
    <p class="level">{{level}}</p>
    <p class="message">
        {{formatted_message}}
        {{#if json}}
                <a href="#" class="json" rel="popover" data-content="<pre>{{json}}</pre>" data-title="JSON applied to server">examine JSON</a>
        {{/if}}
    </p>
</script>


<script id="datacenter_view-operations-template" type="text/x-handlebars-template">
    <h3 class="title">Operations on this datacenter</h3>
    <div class="other_section rename_datacenter">
        <input type="button" class="btn other_button rename_datacenter-button" value="Rename"/>
        <p>Rename this datacenter</p>
    </div>
    <div class="other_section unassign_datacenter">
        <input type="button" class="btn other_button delete_datacenter-button" {{#unless can_delete}}disabled="disabled"{{/unless}} value="Delete this datacenter"/>
        <p>Delete this datacenter</p>
        {{#unless can_delete}}
        <div class="reason">{{print_safe delete_reason}}</div>
        {{/unless}}
    </div>
</script>

<script id="reason-cannot_delete-goals-template" type="text/x-handlebars-template">
    This datacenter is a primary one for the following tables {{links_to_namespaces_inline namespaces_where_primary "replication"}} and therefore cannot be deleted.
</script>

<script id="remove_datacenter-modal-template" type="text/x-handlebars-template">
  <div class="alert alert-error">Removing the datacenter will remove all the responsabilities of the servers in it.</div>
  <div class="alert alert-error error_answer"></div>
  <p>Are you sure you want to remove this datacenter <a href="#datacenters/{{id}}">{{name}}</a>?</p>
</script>

<script id="removed_namespace-alert-template" type="text/x-handlebars-template">
  <div class="alert" data-alert="alert">
    <a class="close" href="#">&times;</a>
    <p>You removed the database {{deleted_datacente}}</p>
  </div>
</script>
