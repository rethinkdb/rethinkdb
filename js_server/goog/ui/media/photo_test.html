<!DOCTYPE html>
<html>
<!--
Copyright 2009 The Closure Library Authors. All Rights Reserved.

Use of this source code is governed by the Apache License, Version 2.0.
See the COPYING file for details.
-->
<!--
-->
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Closure Unit Tests - goog.ui.media.Photo</title>
<script src="../../base.js"></script>
<script>
  goog.require('goog.debug.Logger');
  goog.require('goog.dom');
  goog.require('goog.events');
  goog.require('goog.testing.LooseMock');
  goog.require('goog.testing.jsunit');
  goog.require('goog.ui.Component');
  goog.require('goog.ui.Control');
  goog.require('goog.ui.ControlRenderer');
  goog.require('goog.ui.media.MediaModel');
  goog.require('goog.ui.media.MediaModel.Player');
  goog.require('goog.ui.media.Photo');
</script>
</head>
<body>
<script>

  var control;
  var PHOTO_URL = 'http://foo/bar.jpg';

  function setUp() {
    var photo = new goog.ui.media.MediaModel(PHOTO_URL, 'title', 'description');
    photo.setPlayer(new goog.ui.media.MediaModel.Player(PHOTO_URL));
    control = goog.ui.media.Photo.newControl(photo);
  }

  function tearDown() {
    control.dispose();
  }

  function testBasicRendering() {
    control.render();
    var el = goog.dom.getElementsByTagNameAndClass('div',
        goog.ui.media.Photo.CSS_CLASS);
    assertEquals(1, el.length);
    var img = goog.dom.getElementsByTagNameAndClass('img',
        goog.ui.media.Photo.CSS_CLASS + '-image');
    assertEquals(1, img.length);
    var caption = goog.dom.getElementsByTagNameAndClass('div',
        goog.ui.media.Photo.CSS_CLASS + '-caption');
    assertEquals(1, caption.length);
    var content = goog.dom.getElementsByTagNameAndClass('div',
        goog.ui.media.Photo.CSS_CLASS + '-description');
    assertEquals(1, content.length);
  }
</script>
</body>
</html>
